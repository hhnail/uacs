{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/tree/style\";\nimport _Tree from \"antd/es/tree\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\n\nvar _jsxFileName = \"D:\\\\WorkSpace\\\\mySrc\\\\front\\\\VSCode-workspace\\\\uacs_ui\\\\src\\\\views\\\\SandBox\\\\UserList\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { UnorderedListOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport { Switch } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserList() {\n  _s();\n\n  const [dataSource, setDataSource] = useState([]);\n  useEffect(() => {\n    axios.get(\"/association/getAllUsers\").then(res => {\n      // res.data.data\n      console.log(\"==51 userList\", res.data.data);\n      setDataSource(dataSource);\n    });\n  }, []);\n\n  const columns = [{\n    title: '学号',\n    dataIndex: 'userId',\n    render: userId => {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        children: userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 24\n      }, this);\n    }\n  }, {\n    title: '姓名',\n    dataIndex: 'name'\n  }, {\n    title: '成员状态',\n    dataIndex: 'state',\n    render: () => {\n      return /*#__PURE__*/_jsxDEV(Switch, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 24\n      }, this);\n    }\n  }, {\n    title: '操作',\n    render: () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(_Button, {\n          shape: \"circle\",\n          icon: /*#__PURE__*/_jsxDEV(UnorderedListOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), \"\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(_Button, {\n          shape: \"circle\",\n          icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 31\n          }, this),\n          danger: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 24\n      }, this);\n    }\n  }],\n        confirmDelete = item => {\n    const {\n      roleList\n    } = this.state;\n    const thisPoint = this;\n    confirm({\n      title: '您确认要删除吗？',\n      icon: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }, this),\n\n      onOk() {\n        // 同步页面\n        // console.log(\"==1 dataSource\", roleList);\n        const newList = roleList.filter(data => data.roleId !== item.roleId);\n        thisPoint.setState({\n          roleList: newList\n        }); // 调用后端接口，同步后台数据库\n        // axios.get(`/association/deleteRoleById/${item.roleId}`)\n      },\n\n      onCancel() {}\n\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(_Table, {\n      dataSource: this.state.roleList,\n      columns: this.state.columns,\n      rowKey: item => item.roleId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n      title: \"\\u5206\\u914D\\u6743\\u9650\",\n      visible: this.state.isModalVisible,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      children: /*#__PURE__*/_jsxDEV(_Tree, {\n        treeData: this.state.permissionList,\n        checkable: true,\n        checkedKeys: this.state.currentRolePermissionKeys,\n        onCheck: this.onCheck // checkStrictly={true}\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserList, \"pu9n7TwnPAxDTWSarNwXzEh5CRk=\");\n\n_c = UserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"sources":["D:/WorkSpace/mySrc/front/VSCode-workspace/uacs_ui/src/views/SandBox/UserList/index.jsx"],"names":["React","useState","useEffect","UnorderedListOutlined","DeleteOutlined","ExclamationCircleOutlined","axios","Switch","UserList","dataSource","setDataSource","get","then","res","console","log","data","columns","title","dataIndex","render","userId","confirmDelete","item","roleList","state","thisPoint","confirm","icon","onOk","newList","filter","roleId","setState","onCancel","isModalVisible","handleOk","handleCancel","permissionList","currentRolePermissionKeys","onCheck"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Table, Button, Modal, Tree } from 'antd'\r\nimport {\r\n    UnorderedListOutlined,\r\n    DeleteOutlined,\r\n    ExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport axios from 'axios'\r\nimport { Switch } from 'react-router-dom';\r\n\r\nexport default function UserList() {\r\n\r\n    const [dataSource, setDataSource] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/association/getAllUsers\")\r\n            .then(res => {\r\n                // res.data.data\r\n                console.log(\"==51 userList\", res.data.data);\r\n                setDataSource(dataSource)\r\n            })\r\n    }, [])\r\n\r\n    const columns = [\r\n        {\r\n            title: '学号',\r\n            dataIndex: 'userId',\r\n            render: (userId) => {\r\n                return <b>{userId}</b>\r\n            }\r\n        },\r\n        {\r\n            title: '姓名',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: '成员状态',\r\n            dataIndex: 'state',\r\n            render: (() => {\r\n                return <Switch></Switch>\r\n            })\r\n        },\r\n        {\r\n            title: '操作',\r\n            render: () => {\r\n                return <div>\r\n                    <Button\r\n                        shape={\"circle\"}\r\n                        icon={<UnorderedListOutlined />}\r\n                    >\r\n                    </Button>\r\n                    &nbsp;&nbsp;&nbsp;\r\n                    <Button\r\n                        shape={\"circle\"}\r\n                        icon={<DeleteOutlined />}\r\n                        danger\r\n                    >\r\n                    </Button>\r\n                </div>\r\n            }\r\n        },\r\n    ],\r\n\r\n    \r\n    confirmDelete = (item) => {\r\n        const { roleList } = this.state\r\n        const thisPoint = this\r\n        confirm({\r\n            title: '您确认要删除吗？',\r\n            icon: <ExclamationCircleOutlined />,\r\n            onOk() {\r\n                // 同步页面\r\n                // console.log(\"==1 dataSource\", roleList);\r\n                const newList = roleList.filter(data => data.roleId !== item.roleId)\r\n                thisPoint.setState({ roleList: newList })\r\n                // 调用后端接口，同步后台数据库\r\n                // axios.get(`/association/deleteRoleById/${item.roleId}`)\r\n            },\r\n            onCancel() {\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Table\r\n                dataSource={this.state.roleList}\r\n                columns={this.state.columns}\r\n                rowKey={(item) => item.roleId}\r\n            >\r\n            </Table>\r\n            <Modal title=\"分配权限\"\r\n                visible={this.state.isModalVisible}\r\n                onOk={this.handleOk}\r\n                onCancel={this.handleCancel}>\r\n                <Tree\r\n                    treeData={this.state.permissionList}\r\n                    checkable={true}\r\n                    checkedKeys={this.state.currentRolePermissionKeys}\r\n                    onCheck={this.onCheck}\r\n                // checkStrictly={true}\r\n                />\r\n            </Modal>\r\n        </div>\r\n    )\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}